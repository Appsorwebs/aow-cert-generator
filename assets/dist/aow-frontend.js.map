{
  "version": 3,
  "sources": ["../js/aow-frontend.js"],
  "sourcesContent": ["(function(){\n    // Lightweight accessible modal for frontend\n    function escHtml(s){ if(s===null||s===undefined) return ''; return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\"/g,'&quot;'); }\n\n    function createModal(){\n        if(document.getElementById('aow-frontend-modal-root')) return;\n        var root = document.createElement('div'); root.id = 'aow-frontend-modal-root'; root.className = 'aow-frontend-modal-root';\n        root.innerHTML = '\\n          <div class=\"aow-backdrop\" data-aow-backdrop></div>\\n          <div class=\"aow-modal\" role=\"dialog\" aria-modal=\"true\" aria-hidden=\"true\" data-aow-modal>\\n            <div class=\"aow-modal-card\" role=\"document\">\\n              <header class=\"aow-modal-header\">\\n                <strong id=\"aow-frontend-modal-title\">Message</strong>\\n                <button class=\"aow-modal-close\" aria-label=\"Close\">\u2715</button>\\n              </header>\\n              <div class=\"aow-modal-body\" id=\"aow-frontend-modal-body\"></div>\\n              <div class=\"aow-modal-actions\" id=\"aow-frontend-modal-actions\"></div>\\n            </div>\\n          </div>\\n        ';\n        document.body.appendChild(root);\n        // event bindings\n        var closeBtn = root.querySelector('.aow-modal-close'); if(closeBtn) closeBtn.addEventListener('click', hideModal);\n        var bd = root.querySelector('[data-aow-backdrop]'); if(bd) bd.addEventListener('click', hideModal);\n        document.addEventListener('keydown', function(e){ if(e.key === 'Escape') hideModal(); });\n    }\n\n    var focusedBefore = null;\n    function trapFocus(modalRoot){\n        var focusable = modalRoot.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex=\"-1\"])');\n        if(!focusable.length) return;\n        var first = focusable[0], last = focusable[focusable.length-1];\n        function handleTab(e){ if(e.key !== 'Tab') return; if(e.shiftKey){ if(document.activeElement === first){ e.preventDefault(); last.focus(); } } else { if(document.activeElement === last){ e.preventDefault(); first.focus(); } } }\n        modalRoot.__aow_tab_handler = handleTab;\n        modalRoot.addEventListener('keydown', handleTab);\n    }\n    function releaseFocus(modalRoot){ if(!modalRoot.__aow_tab_handler) return; modalRoot.removeEventListener('keydown', modalRoot.__aow_tab_handler); modalRoot.__aow_tab_handler = null; }\n\n    function showModal(title, htmlBody, actionsHtml){ createModal(); var root=document.getElementById('aow-frontend-modal-root'); var modal=root.querySelector('[data-aow-modal]'); if(!modal) return; modal.setAttribute('aria-hidden','false'); var titleEl=document.getElementById('aow-frontend-modal-title'); if(titleEl) titleEl.textContent = title||'Message'; var bodyEl=document.getElementById('aow-frontend-modal-body'); if(bodyEl) bodyEl.innerHTML = htmlBody||''; var actionsEl=document.getElementById('aow-frontend-modal-actions'); if(actionsEl) actionsEl.innerHTML = actionsHtml||'<button id=\"aow-frontend-modal-ok\" class=\"aow-btn aow-btn-primary\">OK</button>'; focusedBefore = document.activeElement; // show\n        root.classList.add('visible');\n        // focus first focusable element\n        setTimeout(function(){ var focusable = modal.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex=\"-1\"])'); if(focusable.length) focusable[0].focus(); trapFocus(modal); }, 20);\n    }\n\n    function hideModal(){ var root=document.getElementById('aow-frontend-modal-root'); if(!root) return; var modal=root.querySelector('[data-aow-modal]'); if(modal) modal.setAttribute('aria-hidden','true'); releaseFocus(modal); root.classList.remove('visible'); if(focusedBefore) try{ focusedBefore.focus(); }catch(e){} }\n\n    function aow_confirm(message, cbYes, cbNo){ showModal('Confirm', '<div class=\"aow-modal-text\">'+escHtml(message)+'</div>', '<button id=\"aow-frontend-modal-yes\" class=\"aow-btn aow-btn-primary\">Yes</button><button id=\"aow-frontend-modal-no\" class=\"aow-btn\">No</button>'); setTimeout(function(){ var y=document.getElementById('aow-frontend-modal-yes'); var n=document.getElementById('aow-frontend-modal-no'); if(y) y.onclick = function(){ hideModal(); if(typeof cbYes === 'function') cbYes(); }; if(n) n.onclick = function(){ hideModal(); if(typeof cbNo === 'function') cbNo(); }; }, 10); }\n\n    function aow_prompt(message, defaultValue, cb){ showModal('Input Required', '<label class=\"aow-modal-label\">'+escHtml(message)+'</label><input id=\"aow-frontend-modal-input\" class=\"aow-modal-input\" value=\"'+escHtml(defaultValue||'')+'\" />', '<button id=\"aow-frontend-modal-submit\" class=\"aow-btn aow-btn-primary\">OK</button><button id=\"aow-frontend-modal-cancel\" class=\"aow-btn\">Cancel</button>'); setTimeout(function(){ var s=document.getElementById('aow-frontend-modal-submit'); var c=document.getElementById('aow-frontend-modal-cancel'); if(s) s.onclick = function(){ var v=document.getElementById('aow-frontend-modal-input').value; hideModal(); if(typeof cb === 'function') cb(v); }; if(c) c.onclick = function(){ hideModal(); if(typeof cb === 'function') cb(null); }; }, 10); }\n\n    // Expose globally\n    window.aow_showModal = showModal;\n    window.aow_hideModal = hideModal;\n    window.aow_confirm = aow_confirm;\n    window.aow_prompt = aow_prompt;\n})();\n"],
  "mappings": "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",
  "names": ["escHtml", "s", "createModal", "root", "closeBtn", "hideModal", "bd", "e", "focusedBefore", "trapFocus", "modalRoot", "focusable", "first", "last", "handleTab", "releaseFocus", "showModal", "title", "htmlBody", "actionsHtml", "modal", "titleEl", "bodyEl", "actionsEl", "aow_confirm", "message", "cbYes", "cbNo", "y", "n", "aow_prompt", "defaultValue", "cb", "c", "v"]
}
