{
  "version": 3,
  "sources": ["../js/aow-frontend-app.js"],
  "sourcesContent": ["// Main frontend application logic for AppsOrWebs Certificate Generator\n// WordPress-compatible version\n\n(function() {\n    'use strict';\n\n    // Wait for DOM to be ready\n    function ready(fn) {\n        if (document.readyState !== 'loading') {\n            fn();\n        } else {\n            document.addEventListener('DOMContentLoaded', fn);\n        }\n    }\n\n    // Initialize when ready\n    ready(function() {\n        console.log('AOW Certificate Generator: Initializing...');\n\n        // Check for required elements\n        const contentArea = document.getElementById('content-area');\n        const msgBox = document.getElementById('message-box');\n        const navGenerator = document.getElementById('nav-generator');\n        const navVerifier = document.getElementById('nav-verifier');\n\n        if (!contentArea) {\n            console.error('AOW: content-area element not found');\n            return;\n        }\n\n        // Core Application State\n        const state = {\n            currentView: 'generator',\n            isAdminLoggedIn: (typeof AOW_REST !== 'undefined' && AOW_REST.isAdmin) || false,\n            certificates: {},\n            baseVerificationUrl: window.location.href.split('?')[0] + '?view=verifier&id='\n        };\n\n        console.log('AOW: State initialized', { isAdmin: state.isAdminLoggedIn });\n\n        // Utility Functions\n        function showMessage(message, type = 'info') {\n            if (!msgBox) return;\n            let bgColor = 'bg-blue-600';\n            if (type === 'success') bgColor = 'bg-green-500';\n            if (type === 'error') bgColor = 'bg-red-600';\n            msgBox.className = `fixed top-0 right-0 m-6 p-4 rounded-lg shadow-2xl text-white transition-opacity duration-300 z-50 pointer-events-none ${bgColor}`;\n            msgBox.textContent = message;\n            msgBox.style.opacity = 1;\n            setTimeout(() => { msgBox.style.opacity = 0; }, 3000);\n        }\n\n        function escHtml(str) {\n            if (!str && str !== 0) return '';\n            return String(str).replace(/[&<>\"]/g, function(s){\n                return ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;'}[s]);\n            });\n        }\n\n        function generateUniqueId() {\n            return 'AOWL-' + Math.random().toString(36).substring(2, 8).toUpperCase() + '-' + Date.now().toString().slice(-4);\n        }\n\n        function updateNav(view) {\n            if (!navGenerator || !navVerifier) return;\n            \n            const inactiveClasses = 'text-aow-primary border border-aow-primary hover:bg-aow-card-bg/70';\n            const activeClasses = 'bg-aow-primary text-aow-dark-bg shadow-lg hover:shadow-aow-glow';\n\n            navGenerator.className = 'px-5 py-2 text-sm font-semibold rounded-full transition duration-300 ml-3';\n            navVerifier.className = 'px-5 py-2 text-sm font-semibold rounded-full transition duration-300 ml-3';\n\n            if (view === 'generator' && state.isAdminLoggedIn) {\n                navGenerator.classList.add(...activeClasses.split(' '));\n                navVerifier.classList.add(...inactiveClasses.split(' '));\n            } else {\n                navVerifier.classList.add(...activeClasses.split(' '));\n                navGenerator.classList.add(...inactiveClasses.split(' '));\n            }\n        }\n\n        function renderLoginView() {\n            console.log('AOW: Rendering login view');\n            state.isAdminLoggedIn = false;\n            updateNav('verifier');\n            contentArea.innerHTML = `\n                <div class=\"p-8 md:p-12 rounded-3xl shadow-strong illuminated-card max-w-md mx-auto\">\n                    <h2 class=\"text-3xl font-bold text-center text-aow-primary mb-6\">Admin Access: Generator Login</h2>\n                    <p class=\"text-center text-gray-400 mb-8\">Access is restricted to authorized AppsOrWebs Limited personnel.</p>\n                    <form id=\"admin-login-form\">\n                        <label for=\"admin-pass\" class=\"block text-sm font-medium text-gray-300 mb-2\">Secure Password</label>\n                        <input type=\"password\" id=\"admin-pass\" required class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary transition duration-300\" placeholder=\"Enter Admin Password\">\n                        <button type=\"submit\" class=\"w-full mt-6 py-3 bg-aow-secondary text-aow-dark-bg font-bold rounded-lg hover:bg-aow-primary hover:text-white transition duration-300 shadow-md hover:shadow-secondary-glow\">\n                            Authenticate & Login\n                        </button>\n                    </form>\n                </div>\n            `;\n            const form = document.getElementById('admin-login-form');\n            if (form) form.addEventListener('submit', handleLogin);\n        }\n\n        function renderAdminView() {\n            console.log('AOW: Rendering admin view');\n            updateNav('generator');\n            contentArea.innerHTML = `\n                <div class=\"p-6 md:p-10 rounded-3xl shadow-strong illuminated-card\">\n                    <h2 class=\"text-3xl font-bold text-aow-primary mb-8 border-b border-aow-secondary/50 pb-4\">Certificate Generation Portal</h2>\n                    \n                    <form id=\"certificate-form\" class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                        \n                        <div class=\"lg:col-span-3\">\n                            <h3 class=\"text-2xl font-bold mb-4 text-aow-secondary border-b border-aow-card-bg/50 pb-2\">Student & Course Details</h3>\n                        </div>\n                        \n                        <div class=\"col-span-1\">\n                            <label for=\"student-name\" class=\"block text-sm font-medium text-gray-300 mb-1\">Student Name (Full)</label>\n                            <input type=\"text\" id=\"student-name\" required class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary\" placeholder=\"e.g., Jane E. Doe\">\n                        </div>\n                        \n                        <div class=\"col-span-1\">\n                            <label for=\"course-title\" class=\"block text-sm font-medium text-gray-300 mb-1\">Course Title</label>\n                            <input type=\"text\" id=\"course-title\" required class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary\" placeholder=\"e.g., Advanced Full-Stack Development\">\n                        </div>\n                        \n                        <div class=\"col-span-1\">\n                            <label for=\"completion-date\" class=\"block text-sm font-medium text-gray-300 mb-1\">Completion Date</label>\n                            <input type=\"date\" id=\"completion-date\" value=\"${new Date().toISOString().split('T')[0]}\" required class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary bg-aow-input-bg text-gray-200\">\n                        </div>\n                        \n                        <div class=\"lg:col-span-3 mt-4\">\n                            <h3 class=\"text-2xl font-bold mb-4 text-aow-secondary border-b border-aow-card-bg/50 pb-2\">Branding & Authorization</h3>\n                        </div>\n\n                        <div class=\"col-span-1\">\n                            <label for=\"instructor-name\" class=\"block text-sm font-medium text-gray-300 mb-1\">Instructor/Signatory Name <span class=\"text-xs text-gray-400\">(optional)</span></label>\n                            <input type=\"text\" id=\"instructor-name\" value=\"Michael Anderson, CEO AppsOrWebs Limited\" class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary\">\n                        </div>\n\n                        <div class=\"col-span-1\">\n                            <label for=\"logo-url\" class=\"block text-sm font-medium text-gray-300 mb-1\">AppsOrWebs Logo URL</label>\n                            <input type=\"url\" id=\"logo-url\" value=\"\" class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary\" placeholder=\"URL for logo image\">\n                        </div>\n\n                        <div class=\"col-span-1\">\n                            <label for=\"signature-url\" class=\"block text-sm font-medium text-gray-300 mb-1\">Signature Image URL</label>\n                            <input type=\"url\" id=\"signature-url\" value=\"\" class=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary\" placeholder=\"URL for signature (optional)\">\n                        </div>\n\n                        <div class=\"col-span-1 lg:col-span-3 mt-6\">\n                            <button type=\"submit\" class=\"w-full py-4 bg-green-600 text-white font-bold text-xl rounded-xl hover:bg-green-500 transition duration-300 shadow-lg hover:shadow-green-500/50 transform hover:scale-[1.01]\">\n                                GENERATE UNIQUE CERTIFICATE & SAVE\n                            </button>\n                        </div>\n                    </form>\n\n                    <div class=\"mt-10 pt-6 border-t border-aow-primary/50\">\n                        <h3 class=\"text-2xl font-bold text-aow-primary mb-4\">Generated Certificates</h3>\n                        <div id=\"certificate-list\" class=\"space-y-4\">\n                            <p class=\"text-gray-500 italic\">No certificates generated yet.</p>\n                        </div>\n                    </div>\n                </div>\n            `;\n            const form = document.getElementById('certificate-form');\n            if (form) form.addEventListener('submit', generateCertificate);\n        }\n\n        function renderVerificationView(id = null) {\n            console.log('AOW: Rendering verification view');\n            updateNav('verifier');\n            contentArea.innerHTML = `\n                <div class=\"p-8 md:p-12 rounded-3xl shadow-strong illuminated-card max-w-lg mx-auto\">\n                    <h2 class=\"text-3xl font-bold text-center text-aow-primary mb-4\">Certificate Verification Portal</h2>\n                    <p class=\"text-center text-gray-400 mb-8\">Enter the unique Certificate ID to verify validity.</p>\n                    \n                    <form id=\"verification-form\" class=\"flex flex-col sm:flex-row gap-3\">\n                        <input type=\"text\" id=\"verify-id\" value=\"${id || ''}\" required class=\"flex-grow px-4 py-3 border rounded-lg focus:ring-2 focus:ring-aow-primary\" placeholder=\"Enter Certificate ID\">\n                        <button type=\"submit\" class=\"shrink-0 px-6 py-3 bg-aow-primary text-aow-dark-bg font-bold rounded-lg hover:bg-aow-secondary transition duration-300\">\n                            Verify\n                        </button>\n                    </form>\n                    \n                    <div id=\"verification-result\" class=\"mt-8 pt-6 border-t border-aow-primary/50 min-h-24\">\n                        <p class=\"text-center text-gray-500\">Enter a Certificate ID to verify.</p>\n                    </div>\n                </div>\n            `;\n\n            const form = document.getElementById('verification-form');\n            if (form) form.addEventListener('submit', verifyCertificate);\n        }\n\n        function handleLogin(e) {\n            e.preventDefault();\n            console.log('AOW: Login attempt, isAdmin:', state.isAdminLoggedIn);\n            if (state.isAdminLoggedIn) {\n                showMessage('Login Successful!', 'success');\n                renderAdminView();\n            } else {\n                showMessage('Please log in as WordPress administrator first.', 'error');\n            }\n        }\n\n        function generateCertificate(e) {\n            e.preventDefault();\n            showMessage('Certificate generation - coming soon!', 'info');\n        }\n\n        function verifyCertificate(e) {\n            e.preventDefault();\n            showMessage('Certificate verification - coming soon!', 'info');\n        }\n\n        // Initialize app\n        function initializeApp() {\n            console.log('AOW: initializeApp called');\n            \n            const urlParams = new URLSearchParams(window.location.search);\n            const view = urlParams.get('view');\n            const id = urlParams.get('id');\n\n            // Setup navigation\n            if (navGenerator) {\n                navGenerator.addEventListener('click', () => {\n                    if (state.isAdminLoggedIn) {\n                        renderAdminView();\n                    } else {\n                        renderLoginView();\n                    }\n                });\n            }\n            \n            if (navVerifier) {\n                navVerifier.addEventListener('click', () => renderVerificationView());\n            }\n\n            // Route to initial view\n            if (view === 'verifier') {\n                state.currentView = 'verifier';\n                renderVerificationView(id);\n            } else {\n                state.currentView = 'generator';\n                if (state.isAdminLoggedIn) {\n                    renderAdminView();\n                } else {\n                    renderLoginView();\n                }\n            }\n            \n            console.log('AOW: Initialization complete');\n        }\n\n        // Start the app\n        initializeApp();\n    });\n})();\n"],
  "mappings": "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",
  "names": ["ready", "fn", "contentArea", "msgBox", "navGenerator", "navVerifier", "state", "showMessage", "message", "type", "bgColor", "escHtml", "str", "s", "generateUniqueId", "updateNav", "view", "inactiveClasses", "activeClasses", "renderLoginView", "form", "handleLogin", "renderAdminView", "generateCertificate", "renderVerificationView", "id", "verifyCertificate", "initializeApp", "urlParams"]
}
